@page "{id?}"
@model Tests.Pages.SolvingTestPageModel
@{
}

@if (Model.CurrentTest == null)
{
    <div class="alert">CurrentTest - NULL</div>
}

else
{
    <form method="post">
        @for(int i = 0; i < Model.Count; i++)
        {
            <div class="m-2">
                <div class="form-check">
                    <label class="display-6">@Model.Blocks.ElementAt(i).Question</label>
                    <input hidden name="currentTestId" value="@Model.CurrentTest.Id">
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="@("answer" + Model.Blocks.ElementAt(i).Id)" name="@("answer" + (i + 1).ToString())" value="1">
                    <label class="form-check-label" for="answer + @Model.Blocks.ElementAt(i).Id">@Html.Raw(Model.Blocks.ElementAt(i).Answer1)</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="@("answer" + Model.Blocks.ElementAt(i).Id)" name="@("answer" + (i+1).ToString())" value="2">
                    <label class="form-check-label" for="answer + @Model.Blocks.ElementAt(i).Id">@Html.Raw(Model.Blocks.ElementAt(i).Answer2)</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="@("answer" + Model.Blocks.ElementAt(i).Id)" name="@("answer" + (i+1).ToString())" value="3">
                    <label class="form-check-label" for="answer + Model.Blocks.ElementAt(i).Id">@Html.Raw(Model.Blocks.ElementAt(i).Answer3)</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" id="@("answer" + Model.Blocks.ElementAt(i).Id)" name="@("answer" + (i+1).ToString())" value="4">
                    <label class="form-check-label" for="answer + @Model.Blocks.ElementAt(i).Id">@Html.Raw(Model.Blocks.ElementAt(i).Answer4)</label>
                </div>
            </div>
        }
        <input class="btn btn-outline-success" type="submit" value="Отправить тест">
    </form>   
}
<div class="display-6">@Html.Raw(TempData["result"]) </div> 
<div class="text-danger">Число правильных ответов - @Html.Raw(TempData["RightAnswers"]) </div>
